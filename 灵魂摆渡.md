# 灵魂摆渡（暂定） 开发文档

## 1. 创意与设定

### 1.1.  基本设定

#### 1.1.1.   四大元素与四大位面的关系

宙斯执掌着天空，波塞冬执掌海洋，哈迪斯执掌冥界，大地则由女神盖亚亲自掌管。

伟大的先知亚里士多德是最早领悟这件事情意义的凡人。他认识到了这四个彼此关联的世界的本原。亚里士多德将他们分别命名为：气、水、火、土。气是天空的本原，水是海洋的本原，土是大地的本原，火是冥界的本原。气是最轻的，它们构成了广阔的天空；土是最厚重的，它们构成了广袤的大地；水也是沉重的，但它们比土柔弱和活泼，因而流向了大地的空隙，构成了动荡的海洋；而熊熊燃烧的烈火，成为了天空与大地和海洋的交汇所在，构成了永恒的冥界。因此，冥界在天空与大地之间，只不过凡人的眼睛无法看见它们罢了。

亚里士多德之前，人类总是有误解，认为冥界是在地下而非地上。但其实这个认识仔细想一想就明白是不正确的，如果冥界在地下，那么墓地的幽灵就不应该总是漂浮在空中，那些通灵师应该在最幽暗的地穴才能和死者对话，但事实并非如此。

其实只需要看一下火在哪里，冥界在哪里就显而易见了。大家都知道，伟大的普罗米修斯在奥林匹斯山上盗取了火焰，宙斯和波塞冬都对其愤怒不已，唯独哈迪斯对此毫不在意。这正是因为盗取圣火本身就来自于哈迪斯的授意，象征着冥界与大地的联合，这当然是宙斯与波塞冬所不能接受的背叛。

## 2. 框架

### 2.1.  剧情

游戏的剧情。包括RPG阶段的冒险故事、人物、任务等。

#### 2.1.1.   剧情地图

道路、建筑、可交互的物品等。

#### 2.1.2.   任务

主线和支线任务。

#### 2.1.3.   当前剧情状态

当前主线和支线的任务完成状况，与NPC的友好度，角色的状态，队伍中的物品状态等等。

#### 2.1.4.   剧情组件集

### 2.2.  剧情单位

#### 2.2.1.   主要角色

游戏中的主要角色。

##### 2.2.1.1.    固定信息

不会随着游戏发展而发生变化的人物信息。

###### 2.2.1.1.1.     姓名

人物的姓名。

###### 2.2.1.1.2.     描述

人物的简介、生平等。

###### 2.2.1.1.3.     天赋

这里的天赋包括了天赋的描述和天赋所带来的技能树。

###### 2.2.1.1.4.     角色的肖像集

###### 2.2.1.1.5.     角色的动画集

###### 2.2.1.1.6.     角色的初始属性和属性成长

##### 2.2.1.2.    当前信息

会发生变化的人物信息。

###### 2.2.1.2.1.     等级

人物的当前等级。

等级会带来属性的成长变化。不同人物的属性成长有所不同。

目前暂定：lv=3n+1时，人物获得一个天赋技能点，lv=3n+2时，人物获得一个职业技能点，lv=3n+3时，人物获得一个通用技能点。

当总角色数量大于10（暂定）时，等级第11名的角色会自动升级到第10名的等级。

###### 2.2.1.2.2.     当前属性

人物战场外的属性值，包括力量、敏捷、攻击射程等多种。

###### 2.2.1.2.3.     职业

人物的当前职业。包括当前职业所带来的技能树。

###### 2.2.1.2.4.     所选择的通用技能

人物的通用技能。除了天赋技能和职业技能之外，人物还可以选择自己的通用技能，通用技能全部人物均可学习。

###### 2.2.1.2.5.     当前技能树

根据人物的天赋、职业和所选择通用技能最终获得的总技能树。

###### 2.2.1.2.6.     当前技能树的各个节点的选择

技能树的每一个节点均可进行多种选择。节点选择包括属性和技能增强等多种强化方式。通过消耗洗点道具，可以随时在战场之外洗点。

###### 2.2.1.2.7.     经验值

人物的经验值，影响角色等级。

经验值获得修正，等级过高的角色经验值获得会减缓。

###### 2.2.1.2.8.     持有物品

#### 2.2.2.   NPC

一些无名无姓，不重要的NPC角色。

### 2.3.  剧情动作

玩家在剧情模式下可以进行的动作。

### 2.4.  战场

战棋游戏战斗的战场。

#### 2.4.1.   地图

每一个战场的地图。也就是该战场中每一个单元格所构成的集合。

#### 2.4.2.   单元格

每一个单元格的属性。

##### 2.4.2.1. 坐标

在地图中的坐标。

##### 2.4.2.2. 地形

单元格的地形。

###### 2.4.2.2.1. 可变地形列表

该地形的可变集合列表。

###### 2.4.2.2.2. 初始地形

该地形的初始地形。

###### 2.4.2.2.3. 当前地形

###### 2.4.2.2.4. 当前地形持续时间

#### 2.4.3.   初始状态

##### 2.4.3.1. 初始位置

战场开始时各个角色的初始位置。

##### 2.4.3.2. 初始状态

战场开始时各个角色的初始位置。包括人物的朝向、生命值等等。也可也通过在战斗开始时触发战场事件进行调控。

#### 2.4.4.   战场事件

##### 2.4.4.1. 触发条件

事件的触发条件。

##### 2.4.4.2. 触发效果

事件的触发效果。

### 2.5.  战场单位

#### 2.5.1.   战场单位属性

##### 2.5.1.1. 单位自身属性

##### 2.5.1.2. 单位当前属性

人物在战场中的属性值，会受到当前状态、地形的影响。

与单位自身属性相比，单位当前属性还包括人物的生命值等。

#### 2.5.2.   持有物品

战场中的人物所持有的物品。

有一个隐藏人物仓库，可以存放公有物品。

##### 2.5.2.1.    装备

##### 2.5.2.2.    道具

#### 2.5.3.   状态

战场被施加的各种状态。

#### 2.5.4.   所处位置

人物在战场中的坐标。会直接指向战场中的单元格。

#### 2.5.5.   朝向

人物的朝向。

#### 2.5.6.   战场经验

人物在战场上的经验值。

### 2.6.  战场动作

玩家在战场中可以进行的动作。

### 2.7.  物品

#### 2.7.1.   装备

##### 2.7.1.1.    装备等级

装备等级影响装备的属性。

##### 2.7.1.2.    装备属性

##### 2.7.1.3.    装备特性

##### 2.7.1.4.    装备价格

##### 2.7.1.5.    装备所适用的职业

##### 2.7.1.6.    游戏中的全部装备列表

#### 2.7.2.   道具

##### 2.7.2.1.    对敌军使用的道具

##### 2.7.2.2.    对友军使用的道具

##### 2.7.2.3.    对战场使用道具

##### 2.7.2.4.    游戏中的全部道具列表

#### 2.7.3.   材料

用来合成、强化装备或者合成道具的材料。

##### 2.7.3.1.    材料表

#### 2.7.4.   剧情道具

剧情道具，在剧情中起到特殊作用。

##### 2.7.4.1.    剧情道具表

#### 2.7.5.   金钱

货币。可以买东西。

### 2.8.  属性

#### 2.8.1.   力量

影响角色的物理输出能力。

#### 2.8.2.   物防

影响角色的物理防御能力。

#### 2.8.3.   魔力

影响角色的魔法输出能力。

#### 2.8.4.   魔防

影响角色的魔法防御能力。

#### 2.8.5.   耐久

影响角色的生命值。

#### 2.8.6.   幸运

影响角色的暴击/被暴击概率。

#### 2.8.7.   灵巧

影响角色的命中/闪避概率。

#### 2.8.8.   速度

影响角色的ATB值增加速度。

#### 2.8.9.   移动

影响角色的行动能力。

#### 2.8.10.   精力/最大精力

角色使用技能需要消耗精力值。每回合固定回复一定的精力值。

### 2.9.  技能表

人物的技能。每一个主要角色的技能树都由天赋技能、职业技能和通用技能共同决定。

#### 2.9.1.   天赋技能

#### 2.9.2.   职业技能

##### 2.9.2.1.    初级职业

擅长某一种特技的职业。

###### 2.9.2.1.1.     战士

皮糙肉厚的战士。拥有强大的近身肉搏能力。

lv2：奋力一击  降低对手力量*10%物防，造成120%伤害。

lv5：获得属性点。

lv8：致命一击  造成120%伤害，如果敌人的生命值在50%以下，额外造成30%伤害。

lv11：获得属性点。

lv14：奋力一击额外造成10%伤害/ 致命一击额外造成10%伤害。 

lv17：物理反击。当敌人在战士的射程范围内主动发动攻击（包括施法和技能）时，战士有几率进行反击。

lv20：获得属性点。

lv23：重击。普通攻击有几率击晕敌人。

lv26：获得属性点。

lv29：物理反击几率提高/重击几率提高。

###### 2.9.2.1.2.     猎人

可以远距离攻击的射手。具有布置陷阱的能力。

lv2：精准之箭 必中，无视攻击距离衰减，造成100%伤害。

lv5：获得属性点。

lv8：猎人陷阱 布置一个陷阱，进入陷阱的敌人被禁锢，每回合受到伤害。

lv11：获得属性点。

lv14：精准之箭额外造成10%伤害/ 猎人陷阱造成沉默效果。

lv17：警觉 当敌人行动至猎人周围时，猎人有几率先发制人发动一次攻击。

lv20：获得属性点。

lv23：弱点 猎人对伤害过的敌人有几率发现其弱点，给与标记，再次攻击时必暴击，然后弱点消失。

lv26：获得属性点。

lv29：警觉几率提高/弱点几率提高。

###### 2.9.2.1.3.     刺客

敏捷的刺客。擅长隐藏身形和偷袭。

lv2：带毒匕首 扔出一把带毒的匕首，使目标中毒。中毒伤害与灵巧值有关。

lv5：获得属性点。

lv8：背刺 闪烁到目标的背后，发动攻击，造成150%伤害。如果目标背后没有可移动的格子则不能发动此技能。

lv11：获得属性点。

lv14：提高带毒匕首的伤害/提高背刺的伤害。

lv17：偷袭 从背部袭击敌人有几率造成额外伤害和眩晕。

lv20：获得属性点。

lv23：连续行动。攻击行动之后有几率连续行动一次，此次行动依然可以触发连续行动。

lv26：获得属性点。

lv29： 偷袭几率提高/连续行动几率提高。

###### 2.9.2.1.4.     骑士

拥有领导力的统帅。可以激励周围的队友。

lv2：激励 激励友军，使友军获得力量/魔力提升。

lv5：获得属性点。

lv8：坚定 坚定友军，使友军获得物防/魔防提升。

lv11： 获得属性点。

lv14：提高激励的持续时间/坚定的持续时间。

lv17： 士气光环。提高周围友军的幸运值。

lv20： 获得属性点。

lv23： 迅捷光环。提高周围友军的灵巧值。

lv26： 获得属性点。

lv29： 增加士气光环的范围/迅捷光环的范围。

###### 2.9.2.1.5.     死亡骑士

带有恐怖气息的可怕骑士。可以削弱周围的敌人。

lv2：虚弱 虚弱敌军，使敌军获得力量/魔力削减。

lv5：获得属性点。

lv8：威吓 威吓敌军，使敌军获得物防/魔防削减。

lv11： 获得属性点。

lv14：提高虚弱的持续时间/威吓的持续时间。

lv17：失落光环：降低周围敌军的幸运值。

lv20：获得属性点。

lv23：衰退光环：降低周围敌军的灵巧值。

lv26：获得属性点。

lv29：增加失落光环的范围/衰退光环的范围。

###### 2.9.2.1.6.     术士

可以使用伤害以及干扰魔法的法师。

lv2： 魔法箭 对敌人造成魔法伤害

lv5： 获得属性点。

lv8： 禁锢魔法 指定一个敌方单位，使其不能移动，禁锢时间和魔力/魔防有关

lv11：获得属性点。

lv14：魔法箭伤害提高/禁锢魔法的持续时间增加

lv17：冥想 恢复精力值

lv20：获得属性点。

lv23：缴械魔法 指定一个敌方单位，使其不能进行物理攻击，缴械时间和魔力/魔防有关。

lv26：获得属性点。

lv29：冥想额外暂时提高魔力/缴械魔法的持续时间增加。

###### 2.9.2.1.7.     牧师

可以强化和治疗友军的法师。

lv2：治疗 恢复友军生命值

lv5：获得属性点。

lv8：驱逐 恢复友军的不良状态。

lv11： 获得属性点。

lv14： 提高治疗效果/驱逐给予少量治疗。

lv17： 物理护盾 为友军提供一个可以吸收物理伤害的护盾

lv20： 获得属性点。

lv23： 魔法护盾 为友军提供一个可以吸收魔法伤害的护盾

lv26： 获得属性点。

lv29： 物理护盾数值增加/魔法护盾数值增加。

###### 2.9.2.1.8.     萨满

通过献祭获得力量的全能型法师，可以通过献祭完成仪式，仪式经过一段时间生效，实现各种各样的效果，如治疗、伤害、强化、召唤等。

lv2： 打击仪式 以消耗自身一定生命为代价，指定一个区域，经过一定回合（萨满自己的）后，对该区域释放伤害型魔法。

lv5： 获得属性点。

lv8： 治疗仪式 以消耗自身一定生命为代价，指定一个区域，经过一定回合（萨满自己的）后，对该区域释放治疗型魔法。

lv11：获得属性点。

lv14：打击仪式效果提升。/治疗仪式效果提升。

###### 2.9.2.1.9.     德鲁伊

具有召唤野兽、改变地形和自我变身能力的法师。可以变成强大的野兽。

lv2：召唤狼 召唤一头不听从你指令的狼为你战斗。

lv5：获得属性点。

lv8：变熊 变成一头强壮的熊。

lv11：获得属性点。

lv14：召唤狼等级提高/变熊属性提高

lv17：灵魂连接 当你的一定范围内有你的召唤单位时，你获得力量/魔力提升。你的范围内召唤单位获得相同提升。

lv20：获得属性点。

lv23：感同身受 当你回合结束时如果是野兽形态，你有几率感受到你的同伴的痛苦，治疗你的全部召唤单位。

lv26：获得属性点。

lv29：灵魂链接获得的提升加强/感同身受的恢复力加强。

###### 2.9.2.1.10.     亡灵巫师

具有操纵尸体和释放邪恶诅咒的法师。

lv2： 指定一名角色，对其造成瘟疫，伤害其自身及其周围所有敌人。（可以对友军释放）（不会对死灵、元素和机械单位造成伤害）

lv5： 获得属性点。

lv8： 指定一个尸体，在尸体上召唤一个不听从指令的骷髅战士。

lv11：获得属性点。

lv14：瘟疫伤害提升/骷髅战士属性提升。

lv17： 死亡触摸：被亡灵巫师杀死的敌人角色有几率直接变成骷髅战士。

lv20：获得属性点。

lv23：尸骨护甲：对亡灵巫师造成伤害的角色（不分敌我）有几率受到瘟疫作用。

lv26：获得属性点。

lv29： 死亡触摸几率提升/尸骨护甲几率提升。

##### 2.9.2.2.    高级职业

精通某一种特技或者擅长两种特技的职业。

###### 2.9.2.2.1.     高级战士

###### 2.9.2.2.2.     高级猎人

###### 2.9.2.2.3.     高级盗贼

###### 2.9.2.2.4.     高级骑士

###### 2.9.2.2.5.     高级死亡骑士

###### 2.9.2.2.6.     高级魔法师

###### 2.9.2.2.7.     高级牧师

###### 2.9.2.2.8.     高级术士

###### 2.9.2.2.9.     高级德鲁伊

###### 2.9.2.2.10.     高级亡灵巫师

###### 2.9.2.2.11.     战士+猎人

###### 2.9.2.2.12.     战士+盗贼

###### 2.9.2.2.13.     战士+骑士

###### 2.9.2.2.14.     战士+死亡骑士

###### 2.9.2.2.15.     战士+魔法师

###### 2.9.2.2.16.     战士+牧师

###### 2.9.2.2.17.     战士+术士

###### 2.9.2.2.18.     战士+德鲁伊

###### 2.9.2.2.19.     战士+亡灵巫师

###### 2.9.2.2.20.     猎人+盗贼

###### 2.9.2.2.21.     猎人+骑士

###### 2.9.2.2.22.     猎人+死亡骑士

###### 2.9.2.2.23.     猎人+魔法师

###### 2.9.2.2.24.     猎人+牧师

###### 2.9.2.2.25.     猎人+术士

###### 2.9.2.2.26.     猎人+德鲁伊

###### 2.9.2.2.27.     猎人+亡灵巫师

###### 2.9.2.2.28.     盗贼+骑士

###### 2.9.2.2.29.     盗贼+死亡骑士

###### 2.9.2.2.30.     盗贼+魔法师

###### 2.9.2.2.31.     盗贼+牧师

###### 2.9.2.2.32.     盗贼+术士

###### 2.9.2.2.33.     盗贼+德鲁伊

###### 2.9.2.2.34.     盗贼+亡灵巫师

###### 2.9.2.2.35.     骑士+死亡骑士

###### 2.9.2.2.36.     骑士+魔法师

###### 2.9.2.2.37.     骑士+牧师

###### 2.9.2.2.38.     骑士+术士

###### 2.9.2.2.39.     骑士+德鲁伊

###### 2.9.2.2.40.     骑士+亡灵巫师

###### 2.9.2.2.41.     死亡骑士+魔法师

###### 2.9.2.2.42.     死亡骑士+牧师

###### 2.9.2.2.43.     死亡骑士+术士

###### 2.9.2.2.44.     死亡骑士+德鲁伊

###### 2.9.2.2.45.     死亡骑士+亡灵巫师

###### 2.9.2.2.46.     魔法师+牧师

###### 2.9.2.2.47.     魔法师+术士

###### 2.9.2.2.48.     魔法师+德鲁伊

###### 2.9.2.2.49.     魔法师+亡灵巫师

###### 2.9.2.2.50.     牧师+术士

###### 2.9.2.2.51.     牧师+德鲁伊

###### 2.9.2.2.52.     牧师+亡灵巫师

###### 2.9.2.2.53.     术士+德鲁伊

###### 2.9.2.2.54.     术士+亡灵巫师

###### 2.9.2.2.55.     德鲁伊+亡灵巫师

#### 2.9.3.   通用技能



#### 2.9.4.   怪物技能

### 2.10.  职业树

人物的职业。要升级到高阶职业，会根据当前的属性和职业共同决定。（值得注意的是，属性的成长也和技能树的节点选择有关系。如果技能树洗点后时候不能达到职业对应的属性要求，则不能洗点。

### 2.11. 地形表

#### 平原 

#### 高台

#### 山地

#### 树林

#### 沙漠

#### 城门

#### 城墙

#### 室内

#### 河流

#### 浅滩

#### 雪地

### 2.12. 怪物表

### 2.13.  计算公式

## 3. 灵感

角色：

雇佣兵队长：可以在战斗前花费金钱雇佣一定数量的友军雇佣兵。
友军心灵控制者：可以控制辐射范围内的友军。

恢复机制：

如果角色连续三个回合没有受到伤害，就可以进行自然回血。

攻击距离衰减机制：

目标与角色距离越远，命中率和伤害越低。

骑士与死亡骑士：

考虑到强化光环比削弱光环更容易触发，发挥效果更安全，削弱光环应该设计的更强大一些。
